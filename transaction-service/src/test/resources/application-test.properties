# Test application properties for integration tests

# Application
spring.application.name=transaction-service-test
server.port=0

# Database - Will be overridden by Testcontainers
spring.datasource.url=jdbc:postgresql://localhost:5432/test
spring.datasource.username=test
spring.datasource.password=test
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Redis - Will be overridden by Testcontainers
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms

# JWT Security
security.jwt.secret=AY8Ro0HSBFyllm9ZPafT2GWuE/t8Yzq1P0Rf7bNeq14=
security.jwt.expiration-in-ms=3600000

# Account Service - Will be overridden by WireMock
account-service.base-url=http://localhost:8080
account-service.timeout=5000

# Transaction Configuration
transaction.processing.timeout=30000
transaction.retry.max-attempts=3
transaction.retry.delay=1000

# Logging
logging.level.com.suhasan.finance.transaction_service=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.testcontainers=WARN
logging.level.com.github.tomakehurst.wiremock=WARN

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always

# Audit logging
audit.logging.enabled=true
audit.logging.include-request-details=false
audit.logging.include-response-details=false
audit.logging.max-payload-length=500

# Test-specific settings
spring.test.database.replace=none
spring.jpa.defer-datasource-initialization=false